---
import { getHomepageData } from '../lib/sanity';
import Layout from '../layouts/Layout.astro';
import Header from '../components/organisms/Header.astro';
import HeroSection from '../components/organisms/HeroSection.astro';
import ProductsSection from '../components/organisms/ProductsSection.astro';
import ClientsSection from '../components/organisms/ClientsSection.astro';
import Footer from '../components/organisms/Footer.astro';

// Habilitar prerender para esta p치gina est치tica
export const prerender = true;

// Obtener datos de la homepage con manejo de errores
const data = await getHomepageData();

const pageTitle = data.heroCarousel?.[0]?.title || "Servicios & Sistemas";
const pageDescription = data.heroCarousel?.[0]?.subtitle || "Gesti칩n Integral de tu Inform치tica";
---

<Layout title={pageTitle} description={pageDescription}>
	<Header />
	<main>
		<HeroSection slides={data.heroCarousel} />
		<ProductsSection products={data.products} />
		<ClientsSection clientLogos={data.clientLogos} />
	</main>
	<Footer />
</Layout> 